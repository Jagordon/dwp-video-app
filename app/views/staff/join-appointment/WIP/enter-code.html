{% extends "layout-staff.html" %}

{% block pageTitle %}
  Enter the appointment code - Conduct a video appointment
{% endblock %}

{% block content %}
<div class="govuk-width-container">
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <form action="start-staff-permissions" method="post" class="form" id="appointmentcode_form" style="margin-top:40px">
        <fieldset class="govuk-fieldset">
          <legend class="govuk-fieldset__legend govuk-fieldset__legend--xl">
            <h1 class="govuk-heading-xl">
              Enter the appointment code
            </h1>
            <p> This is the 6 letter code you generated when you created the appointment.</p>
          </legend>
        </fieldset>
      <fieldset class="govuk-fieldset">
          <label class="govuk-label" for="appointment-code">
            Appointment code </label>
            <input type="text" id="appointment-code" name="appointmentCode" class="govuk-input" style="width:50%">
      </fieldset>
        <button class="govuk-button" data-module="govuk-button" style="margin-top: 30px">Continue</button>
      </form>

      <h2 class="govuk-heading-m">If you do not have your code</h2>

      <p>If you've lost or forgotten your code, you'll need to create a new video appointment.</p>

    </div>
    <div style="float: right; margin-bottom: 0; padding: 0">
    <a href="appt-notfound">Not found</a></div>
  </div>

</div>

  <script type="text/javascript">
  function addLink(){
    var anchor = document.getElementById('link');
    var meeting = document.getElementById('appointmentCode');
    anchor.href += meeting.value;
  }
</script>

<script type="text/javascript">
    var SUPPORTED_URL = "enter-code.html";
    var UNSUPPORTED_URL = "not-supported.html";

    function selectTechnologyLocation() {
        var isWebRTCSupported = navigator.getUserMedia ||
        navigator.webkitGetUserMedia ||
        navigator.mozGetUserMedia ||
        navigator.msGetUserMedia ||
        window.RTCPeerConnection;

        if (window.navigator.userAgent.indexOf("Edge") > -1) {
            return UNSUPPORTED_URL;
        }

        if (isWebRTCSupported) {
            return SUPPORTED_URL;
        }
        else {
            return UNSUPPORTED_URL;
        }
    }
    window.location = selectTechnologyLocation();
</script>

{% endblock %}
